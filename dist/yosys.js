var fetch,__defProp=Object.defineProperty,__export=(e,r)=>{for(var a in r)__defProp(e,a,{get:r[a],enumerable:!0})},fetch_default=fetch="object"==typeof process&&"node"===process.release?.name?async function(e,r){if("file:"===e.protocol){const{readFile:r}=await import("node:fs/promises"),a=await r(e),t=e.pathname.endsWith(".wasm"),s={"content-length":a.length,"content-type":t?"application/wasm":"application/octet-stream"};return new Response(a,{headers:s})}return globalThis.fetch(e,r)}:globalThis.fetch,Exit=class extends Error{constructor(e=0){super(`Exited with status ${e}`),this.code=e}};function monotonicNow(){return BigInt(Math.floor(1e6*performance.now()))}function wallClockNow(){let e=Date.now();return{seconds:BigInt(Math.floor(e/1e3)),nanoseconds:e%1e3*1e6}}var Xoroshiro128StarStar=class{constructor(e){if(0n===BigInt(e))throw new Error("xoroshiro128** must be seeded with a non-zero state");this.s=[0xffffffffffffffffn&BigInt(e),BigInt(e)>>64n&0xffffffffffffffffn]}next(){function e(e){return 0xffffffffffffffffn&e}function r(e,r){return e<<r|e>>64n-r}let[a,t]=this.s;const s=e(9n*r(5n*a,7n));return t^=a,a=e(r(a,24n)^t^t<<16n),t=e(r(t,37n)),this.s=[a,t],s}getBytes(e){return Uint8Array.from({length:e},()=>Number(BigInt.asUintN(8,this.next()>>32n)))}},IoError=class extends Error{},InputStream=class{read(e){throw{tag:"closed"}}blockingRead(e){return this.read(e)}},OutputStream=class{checkWrite(){throw{tag:"closed"}}write(e){this.checkWrite()}flush(){}blockingFlush(){this.flush()}blockingWriteAndFlush(e){this.write(e),this.blockingFlush()}},CallbackInputStream=class extends InputStream{constructor(e=null){super(),this.callback=e}read(e){if(null===this.callback)throw{tag:"closed"};let r=this.callback(Number(e));if(null===r)throw{tag:"closed"};return r}},CallbackOutputStream=class extends OutputStream{constructor(e=null){super(),this.callback=e}checkWrite(){return 4096}write(e){null!==this.callback&&this.callback(e)}flush(){null!==this.callback&&this.callback(null)}},TerminalInput=class{},TerminalOutput=class{},nextFilesystemId=function(){let e=0;return()=>e++}(),File=class{constructor(e=""){if(this.id=nextFilesystemId(),e instanceof Uint8Array)this.data=e;else{if("string"!=typeof e)throw new Error("Cannot construct a file from "+typeof e);this.data=(new TextEncoder).encode(e)}}get size(){return this.data.length}},Directory=class e{constructor(e={}){this.id=nextFilesystemId(),this.files=e}get size(){return Object.keys(this.files).length}traverse(r,{create:a=null,remove:t=!1}={}){let s=this,o=-1;do{if(s instanceof File)throw"not-directory";const c=s.files;o=r.indexOf("/");const n=-1===o?r:r.substring(0,o);if(-1===o&&t)delete c[n];else if(""===n||"."===n);else if(".."===n);else if(Object.hasOwn(c,n))s=c[n];else if("directory"===a||null!==a&&-1!==o)s=c[n]=new e({});else if("file"===a)s=c[n]=new File(new Uint8Array);else{if(!(a instanceof File||a instanceof e))throw"no-entry";s=c[n]=a}r=r.substring(o+1)}while(-1!==o);return s}},ReadStream=class extends InputStream{constructor(e,r){super(),this.file=e,this.offset=r}read(e){const r=this.file.data.subarray(Number(this.offset),Number(this.offset+e));return this.offset+=e,r}},WriteStream=class extends OutputStream{constructor(e,r){super(),this.file=e,this.offset=r}write(e){const r=Number(this.offset),a=new Uint8Array(Math.max(this.file.data.length,r+e.length));a.set(this.file.data),a.subarray(r).set(e),this.file.data=a,this.offset+=BigInt(e.length)}},Descriptor=class e{constructor(e){this.entry=e}getType(){return this.entry instanceof Directory?"directory":this.entry instanceof File?"regular-file":void 0}getFlags(){return{}}metadataHash(){return{upper:0,lower:this.entry.id}}metadataHashAt(r,a){if(!(this.entry instanceof Directory))throw"invalid";const t=this.entry.traverse(a);return new e(t).metadataHash()}stat(){let e;return this.entry instanceof Directory&&(e="directory"),this.entry instanceof File&&(e="regular-file"),{type:e,linkCount:1,size:this.entry.size,dataAccessTimestamp:null,dataModificationTimestamp:null,statusChangeTimestamp:null}}statAt(r,a){if(!(this.entry instanceof Directory))throw"invalid";const t=this.entry.traverse(a);return new e(t).stat()}openAt(r,a,t,s){if(!(this.entry instanceof Directory))throw"invalid";const o=this.entry.traverse(a,t.create?{create:"file"}:{});if(t.directory){if(!(o instanceof Directory))throw"not-directory"}else{if(o instanceof Directory)throw"is-directory";t.truncate&&(o.data=new Uint8Array)}return new e(o)}read(e,r){if(this.entry instanceof Directory)throw"is-directory";return[e,r]=[Number(e),Number(r)],[this.entry.data.subarray(r,r+e),r+e>=this.entry.data.byteLength]}readViaStream(e){return new ReadStream(this.entry,e)}write(e,r){if(this.entry instanceof Directory)throw"is-directory";throw console.error("Descriptor.write not implemented"),"unsupported"}writeViaStream(e){return new WriteStream(this.entry,e)}setSize(e){if(this.entry instanceof Directory)throw"is-directory";if((e=Number(e))>this.entry.data.length){const r=new Uint8Array(e);r.set(this.entry.data),this.entry.data=r}else e<this.entry.data.length&&(this.entry.data=this.entry.data.subarray(0,e))}readDirectory(){return new DirectoryEntryStream(this.entry)}createDirectoryAt(e){this.entry.traverse(e,{create:"directory"})}unlinkFileAt(e){if(this.entry.traverse(e)instanceof Directory)throw"is-directory";this.entry.traverse(e,{remove:!0})}removeDirectoryAt(e){if(!(this.entry.traverse(e)instanceof Directory))throw"not-directory";this.entry.traverse(e,{remove:!0})}readlinkAt(e){throw this.entry.traverse(e),"invalid"}renameAt(e,r,a){if(!(this.entry instanceof Directory))throw"not-directory";if(!(r.entry instanceof Directory))throw"not-directory";const t=this.entry.traverse(e);this.entry.traverse(a,{create:t}),this.entry.traverse(e,{remove:!0})}},DirectoryEntryStream=class{constructor(e){this.entries=Object.entries(e.files),this.index=0}readDirectoryEntry(){if(this.index===this.entries.length)return null;const[e,r]=this.entries[this.index++];let a;return r instanceof Directory&&(a="directory"),r instanceof File&&(a="regular-file"),{name:e,type:a}}};function directoryFromTree(e){const r={};for(const[a,t]of Object.entries(e))"string"==typeof t||t instanceof Uint8Array?r[a]=new File(e[a]):r[a]=directoryFromTree(e[a]);return new Directory(r)}function directoryIntoTree(e,{decodeASCII:r=!0}={}){function a(e){for(const r of e)if(r<32&&9!==r&&10!==r&&13!==r||r>=127)return!1;return!0}const t={};for(const[s,o]of Object.entries(e.files))o instanceof File&&(t[s]=r&&a(o.data)?(new TextDecoder).decode(o.data):o.data),o instanceof Directory&&(t[s]=directoryIntoTree(o,{decodeASCII:r}));return t}var Environment=class{vars={};args=[];root=new Directory({});constructor(){this.prng=new Xoroshiro128StarStar(1n),this.standardInputStream=new CallbackInputStream,this.standardOutputStream=new CallbackOutputStream,this.standardErrorStream=new CallbackOutputStream,this.terminalInput=new TerminalInput,this.terminalOutput=new TerminalOutput;const e=this;this.exports={monotonicClock:{now:monotonicNow},wallClock:{now:wallClockNow},random:{getRandomBytes:r=>e.prng.getBytes(Number(r))},io:{Error:IoError,InputStream,OutputStream},cli:{exit(e){throw new Exit("ok"===e.tag?0:1)},getEnvironment:()=>e.vars,getArguments:()=>e.args,getStdin:()=>e.standardInputStream,getStdout:()=>e.standardOutputStream,getStderr:()=>e.standardErrorStream,getTerminalStdin:()=>e.terminalInput,getTerminalStdout:()=>e.terminalOutput,getTerminalStderr:()=>e.terminalOutput,TerminalInput,TerminalOutput},fs:{Descriptor,DirectoryEntryStream,filesystemErrorCode(){},getDirectories:()=>null===e.root?[]:[[new Descriptor(e.root),"/"]]}}}get stdin(){return this.standardInputStream.callback}set stdin(e){this.standardInputStream.callback=e}get stdout(){return this.standardOutputStream.callback}set stdout(e){this.standardOutputStream.callback=e}get stderr(){return this.standardErrorStream.callback}set stderr(e){this.standardErrorStream.callback=e}};function lineBuffered(e){let r=new Uint8Array;return a=>{if(null===a)return;let t=new Uint8Array(r.length+a.length);t.set(r),t.set(a,r.length),r=t;let s=-1;for(;;){const a=r.indexOf(10,s+1);if(-1===a)break;e((new TextDecoder).decode(r.subarray(s+1,a))),s=a}r=r.subarray(s+1)}}var Application=class{#e;#r;#a;#t;constructor(e,r,a){this.#e=e,this.#r=null,this.#a=r,this.#t=a}get argv0(){return this.#t}async#s(e){const r=await this.#e;let a=fetch_default;if(void 0!==e){const t={source:this,totalLength:r.totalSize,doneLength:0};e(t),a=(r,a)=>fetch_default(r,a).then(r=>new Response(r.body.pipeThrough(new TransformStream({transform(r,a){a.enqueue(r),t.doneLength+=r.length,e(t)}})),r))}const[t,s]=await Promise.all([r.modules(a),r.filesystem(a)]);this.#r={modules:t,filesystem:s}}run(e=null,r={},a={}){if(null===this.#r){if(a.synchronously)throw new Error("Cannot run application synchronously unless resources are prefetched first; use `await run()` to do so");const t=({source:e,totalLength:r,doneLength:a})=>{const t=(100*a/r).toFixed(0);console.log(`${e.argv0}: fetched ${t}% (${a} / ${r})`)};return this.#s(a.fetchProgress??t).then(()=>this.run(e,r,a))}if(null===e)return;const t=new Environment;t.args=[this.#t].concat(e),t.root=directoryFromTree(r);for(const[e,r]of Object.entries(this.#r.filesystem))t.root.files[e]=directoryFromTree(r);const s=lineBuffered(a.printLine??console.log);t.stdin=void 0===a.stdin?null:a.stdin,t.stdout=void 0===a.stdout?s:a.stdout,t.stderr=void 0===a.stderr?s:a.stderr;const o=e=>{let s=null;try{e.run.run()}catch(e){if(!(e instanceof Exit))throw e;e instanceof Exit&&0!==e.code&&(s=e)}for(const e of Object.keys(this.#r.filesystem))delete t.root.files[e];if(r=directoryIntoTree(t.root,{decodeASCII:a.decodeASCII??!0}),null!==s)throw s.files=r,s;return r},c=e=>this.#r.modules[e],n={runtime:t.exports};if(a.synchronously){const e=(e,r)=>new WebAssembly.Instance(e,r);return o(this.#a(c,n,e))}return this.#a(c,n).then(o)}},yosys_resources_exports={};__export(yosys_resources_exports,{filesystem:()=>filesystem,modules:()=>modules,totalSize:()=>totalSize});var TAR_TYPE_FILE=0,TAR_TYPE_DIR=5;function parseTar(e,r){const a=e.buffer||e,t=[];let s=0;for(;s<a.byteLength-512;){const e=_readString(a,s,100);if(0===e.length)break;const o=_readString(a,s+100,8).trim(),c=Number.parseInt(_readString(a,s+108,8)),n=Number.parseInt(_readString(a,s+116,8)),i=_readNumber(a,s+124,12),l=512+512*Math.trunc(i/512)+(i%512?512:0),b=_readNumber(a,s+136,12),d=_readNumber(a,s+156,1),u={name:e,type:d===TAR_TYPE_FILE?"file":d===TAR_TYPE_DIR?"directory":d,size:i,attrs:{mode:o,uid:c,gid:n,mtime:b,user:_readString(a,s+265,32),group:_readString(a,s+297,32)}};if(r?.filter&&!r.filter(u)){s+=l;continue}if(r?.metaOnly){t.push(u),s+=l;continue}const f=d===TAR_TYPE_DIR?void 0:new Uint8Array(a,s+512,i);t.push({...u,data:f,get text(){return(new TextDecoder).decode(this.data)}}),s+=l}return t}function _readString(e,r,a){const t=new Uint8Array(e,r,a),s=t.indexOf(0);return(new TextDecoder).decode(-1===s?t:t.slice(0,s))}function _readNumber(e,r,a){const t=new Uint8Array(e,r,a);let s="";for(let e=0;e<a;e++)s+=String.fromCodePoint(t[e]);return Number.parseInt(s,8)}function compileWasmModule(e){return void 0!==WebAssembly.compileStreaming?WebAssembly.compileStreaming(e):WebAssembly.compile(e.arrayBuffer())}function unpackTarFilesystem(e){const r={};for(const a of parseTar(e)){const e=a.name.split("/"),t=e.slice(0,-1),s=e[e.length-1];let o=r;for(const e of t)o=o[e];"directory"===a.type?o[s]={}:o[s]=a.data}return r}var modules=async e=>({"yosys.core.wasm":await e(new URL("./yosys.core.wasm",import.meta.url)).then(compileWasmModule),"yosys.core2.wasm":await e(new URL("./yosys.core2.wasm",import.meta.url)).then(compileWasmModule),"yosys.core3.wasm":await e(new URL("./yosys.core3.wasm",import.meta.url)).then(compileWasmModule),"yosys.core4.wasm":await e(new URL("./yosys.core4.wasm",import.meta.url)).then(compileWasmModule)}),filesystem=async e=>({share:await e(new URL("./yosys-resources.tar",import.meta.url)).then(e=>e.arrayBuffer()).then(unpackTarFilesystem)}),totalSize=49522524,ComponentError=class extends Error{constructor(e){const r="string"!=typeof e;super(r?`${String(e)} (see error.payload)`:e),Object.defineProperty(this,"payload",{value:e,enumerable:r})}},curResourceBorrows=[],dv=new DataView(new ArrayBuffer),dataView=e=>dv.buffer===e.buffer?dv:dv=new DataView(e.buffer);function getErrorPayload(e){if(e&&hasOwnProperty.call(e,"payload"))return e.payload;if(e instanceof Error)throw e;return e}var handleTables=[],hasOwnProperty=Object.prototype.hasOwnProperty,T_FLAG=1<<30;function rscTableCreateOwn(e,r){const a=e[0]&~T_FLAG;return 0===a?(e.push(0),e.push(r|T_FLAG),(e.length>>1)-1):(e[0]=e[a<<1],e[a<<1]=0,e[1+(a<<1)]=r|T_FLAG,a)}function rscTableRemove(e,r){const a=e[r<<1],t=e[1+(r<<1)],s=0!==(t&T_FLAG),o=t&~T_FLAG;if(0===t||0!==(a&T_FLAG))throw new TypeError("Invalid handle");return e[r<<1]=e[0]|T_FLAG,e[0]=r|T_FLAG,{rep:o,scope:a,own:s}}var symbolCabiDispose=Symbol.for("cabiDispose"),symbolRscHandle=Symbol("handle"),symbolRscRep=Symbol.for("cabiRep"),symbolDispose=Symbol.dispose||Symbol.for("dispose"),toUint64=e=>BigInt.asUintN(64,BigInt(e));function toUint32(e){return e>>>0}var utf8Decoder=new TextDecoder,utf8Encoder=new TextEncoder,utf8EncodedLen=0;function utf8Encode(e,r,a){if("string"!=typeof e)throw new TypeError("expected a string");if(0===e.length)return utf8EncodedLen=0,1;let t=utf8Encoder.encode(e),s=r(0,0,1,t.length);return new Uint8Array(a.buffer).set(t,s),utf8EncodedLen=t.length,s}function instantiate(e,r,a=WebAssembly.instantiate){const t=e("yosys.core.wasm"),s=e("yosys.core2.wasm"),o=e("yosys.core3.wasm"),c=e("yosys.core4.wasm"),{cli:n,fs:i,io:l,monotonicClock:b,random:d,wallClock:u}=r.runtime,{TerminalInput:f,TerminalOutput:k,exit:y,getArguments:p,getEnvironment:w,getStderr:m,getStdin:v,getStdout:h,getTerminalStderr:g,getTerminalStdin:R,getTerminalStdout:I}=n,{Descriptor:T,DirectoryEntryStream:E,filesystemErrorCode:V,getDirectories:_}=i,{Error:O,InputStream:B,OutputStream:A,Pollable:S,poll:D}=l,{now:x,subscribeDuration:P,subscribeInstant:j}=b,{getRandomBytes:H}=d,{now:F}=u;let L,U,C,N=function*(){let e,r;const n=[T_FLAG,0],i=new Map;let l=0;handleTables[1]=n;const b=[T_FLAG,0],d=new Map;let u=0;handleTables[3]=b;const L=[T_FLAG,0],U=new Map;let C,N,G,$=0;handleTables[2]=L;const q=[T_FLAG,0],z=new Map;let M=0;handleTables[6]=q;const W=[T_FLAG,0],Y=new Map;let J=0;handleTables[7]=W;const X=[T_FLAG,0],K=new Map;let Q=0;handleTables[0]=X;const Z=[T_FLAG,0],ee=new Map;let re=0;handleTables[4]=Z;const ae=[T_FLAG,0],te=new Map;let se,oe=0;handleTables[5]=ae,Promise.all([t,s,o,c]).catch(()=>{}),({exports:e}=yield a(yield o)),({exports:r}=yield a(yield t,{wasi_snapshot_preview1:{args_get:e[32],args_sizes_get:e[33],clock_time_get:e[36],environ_get:e[34],environ_sizes_get:e[35],fd_close:e[37],fd_fdstat_get:e[38],fd_fdstat_set_flags:e[39],fd_filestat_get:e[40],fd_prestat_dir_name:e[42],fd_prestat_get:e[41],fd_read:e[43],fd_readdir:e[44],fd_renumber:e[45],fd_seek:e[46],fd_write:e[47],path_create_directory:e[48],path_filestat_get:e[49],path_open:e[50],path_readlink:e[51],path_remove_directory:e[52],path_unlink_file:e[53],poll_oneoff:e[54],proc_exit:e[55],random_get:e[57],sched_yield:e[56]}})),({exports:C}=yield a(yield s,{__main_module__:{_start:r._start},env:{memory:r.memory},"wasi:cli/environment@0.2.0":{"get-arguments":e[1],"get-environment":e[0]},"wasi:cli/exit@0.2.0":{exit:function(e){let r;switch(e){case 0:r={tag:"ok",val:void 0};break;case 1:r={tag:"err",val:void 0};break;default:throw new TypeError("invalid variant discriminant for expected")}y(r)}},"wasi:cli/stderr@0.2.0":{"get-stderr":function(){const e=m();if(!(e instanceof A))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var r=e[symbolRscHandle];if(!r){const a=e[symbolRscRep]||++u;d.set(a,e),r=rscTableCreateOwn(b,a)}return r}},"wasi:cli/stdin@0.2.0":{"get-stdin":function(){const e=v();if(!(e instanceof B))throw new TypeError('Resource error: Not a valid "InputStream" resource.');var r=e[symbolRscHandle];if(!r){const a=e[symbolRscRep]||++$;U.set(a,e),r=rscTableCreateOwn(L,a)}return r}},"wasi:cli/stdout@0.2.0":{"get-stdout":function(){const e=h();if(!(e instanceof A))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var r=e[symbolRscHandle];if(!r){const a=e[symbolRscRep]||++u;d.set(a,e),r=rscTableCreateOwn(b,a)}return r}},"wasi:cli/terminal-input@0.2.0":{"[resource-drop]terminal-input":function(e){const r=rscTableRemove(Z,e);if(r.own){const e=ee.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),ee.delete(r.rep)):f[symbolCabiDispose]&&f[symbolCabiDispose](r.rep)}}},"wasi:cli/terminal-output@0.2.0":{"[resource-drop]terminal-output":function(e){const r=rscTableRemove(ae,e);if(r.own){const e=te.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),te.delete(r.rep)):k[symbolCabiDispose]&&k[symbolCabiDispose](r.rep)}}},"wasi:cli/terminal-stderr@0.2.0":{"get-terminal-stderr":e[31]},"wasi:cli/terminal-stdin@0.2.0":{"get-terminal-stdin":e[29]},"wasi:cli/terminal-stdout@0.2.0":{"get-terminal-stdout":e[30]},"wasi:clocks/monotonic-clock@0.2.0":{now:function(){const e=x();return toUint64(e)},"subscribe-duration":function(e){const r=P(BigInt.asUintN(64,e));if(!(r instanceof S))throw new TypeError('Resource error: Not a valid "Pollable" resource.');var a=r[symbolRscHandle];if(!a){const e=r[symbolRscRep]||++l;i.set(e,r),a=rscTableCreateOwn(n,e)}return a},"subscribe-instant":function(e){const r=j(BigInt.asUintN(64,e));if(!(r instanceof S))throw new TypeError('Resource error: Not a valid "Pollable" resource.');var a=r[symbolRscHandle];if(!a){const e=r[symbolRscRep]||++l;i.set(e,r),a=rscTableCreateOwn(n,e)}return a}},"wasi:clocks/wall-clock@0.2.0":{now:e[2]},"wasi:filesystem/preopens@0.2.0":{"get-directories":e[28]},"wasi:filesystem/types@0.2.0":{"[method]descriptor.append-via-stream":e[5],"[method]descriptor.create-directory-at":e[9],"[method]descriptor.get-flags":e[6],"[method]descriptor.get-type":e[7],"[method]descriptor.metadata-hash":e[16],"[method]descriptor.metadata-hash-at":e[17],"[method]descriptor.open-at":e[12],"[method]descriptor.read-directory":e[8],"[method]descriptor.read-via-stream":e[3],"[method]descriptor.readlink-at":e[13],"[method]descriptor.remove-directory-at":e[14],"[method]descriptor.stat":e[10],"[method]descriptor.stat-at":e[11],"[method]descriptor.unlink-file-at":e[15],"[method]descriptor.write-via-stream":e[4],"[method]directory-entry-stream.read-directory-entry":e[18],"[resource-drop]descriptor":function(e){const r=rscTableRemove(q,e);if(r.own){const e=z.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),z.delete(r.rep)):T[symbolCabiDispose]&&T[symbolCabiDispose](r.rep)}},"[resource-drop]directory-entry-stream":function(e){const r=rscTableRemove(W,e);if(r.own){const e=Y.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),Y.delete(r.rep)):E[symbolCabiDispose]&&E[symbolCabiDispose](r.rep)}},"filesystem-error-code":e[19]},"wasi:io/error@0.2.0":{"[resource-drop]error":function(e){const r=rscTableRemove(X,e);if(r.own){const e=K.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),K.delete(r.rep)):O[symbolCabiDispose]&&O[symbolCabiDispose](r.rep)}}},"wasi:io/poll@0.2.0":{"[resource-drop]pollable":function(e){const r=rscTableRemove(n,e);if(r.own){const e=i.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),i.delete(r.rep)):S[symbolCabiDispose]&&S[symbolCabiDispose](r.rep)}},poll:e[26]},"wasi:io/streams@0.2.0":{"[method]input-stream.blocking-read":e[21],"[method]input-stream.read":e[20],"[method]input-stream.subscribe":function(e){var r=e,a=L[1+(r<<1)]&~T_FLAG,t=U.get(a);t||(t=Object.create(B.prototype),Object.defineProperty(t,symbolRscHandle,{writable:!0,value:r}),Object.defineProperty(t,symbolRscRep,{writable:!0,value:a})),curResourceBorrows.push(t);const s=t.subscribe();for(const e of curResourceBorrows)e[symbolRscHandle]=null;if(curResourceBorrows=[],!(s instanceof S))throw new TypeError('Resource error: Not a valid "Pollable" resource.');var o=s[symbolRscHandle];if(!o){const e=s[symbolRscRep]||++l;i.set(e,s),o=rscTableCreateOwn(n,e)}return o},"[method]output-stream.blocking-flush":e[25],"[method]output-stream.blocking-write-and-flush":e[24],"[method]output-stream.check-write":e[22],"[method]output-stream.subscribe":function(e){var r=e,a=b[1+(r<<1)]&~T_FLAG,t=d.get(a);t||(t=Object.create(A.prototype),Object.defineProperty(t,symbolRscHandle,{writable:!0,value:r}),Object.defineProperty(t,symbolRscRep,{writable:!0,value:a})),curResourceBorrows.push(t);const s=t.subscribe();for(const e of curResourceBorrows)e[symbolRscHandle]=null;if(curResourceBorrows=[],!(s instanceof S))throw new TypeError('Resource error: Not a valid "Pollable" resource.');var o=s[symbolRscHandle];if(!o){const e=s[symbolRscRep]||++l;i.set(e,s),o=rscTableCreateOwn(n,e)}return o},"[method]output-stream.write":e[23],"[resource-drop]input-stream":function(e){const r=rscTableRemove(L,e);if(r.own){const e=U.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),U.delete(r.rep)):B[symbolCabiDispose]&&B[symbolCabiDispose](r.rep)}},"[resource-drop]output-stream":function(e){const r=rscTableRemove(b,e);if(r.own){const e=d.get(r.rep);e?(e[symbolDispose]&&e[symbolDispose](),d.delete(r.rep)):A[symbolCabiDispose]&&A[symbolCabiDispose](r.rep)}}},"wasi:random/random@0.2.0":{"get-random-bytes":e[27]}})),N=r.memory,G=C.cabi_import_realloc,({exports:se}=yield a(yield c,{"":{$imports:e.$imports,0:function(e){var r=w(),a=r.length,t=G(0,0,4,16*a);for(let e=0;e<r.length;e++){const a=r[e],b=t+16*e;var[s,o]=a,c=utf8Encode(s,G,N),n=utf8EncodedLen;dataView(N).setInt32(b+4,n,!0),dataView(N).setInt32(b+0,c,!0);var i=utf8Encode(o,G,N),l=utf8EncodedLen;dataView(N).setInt32(b+12,l,!0),dataView(N).setInt32(b+8,i,!0)}dataView(N).setInt32(e+4,a,!0),dataView(N).setInt32(e+0,t,!0)},1:function(e){var r=p(),a=r.length,t=G(0,0,4,8*a);for(let e=0;e<r.length;e++){const a=t+8*e;var s=utf8Encode(r[e],G,N),o=utf8EncodedLen;dataView(N).setInt32(a+4,o,!0),dataView(N).setInt32(a+0,s,!0)}dataView(N).setInt32(e+4,a,!0),dataView(N).setInt32(e+0,t,!0)},10:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.stat()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0);var{type:n,linkCount:i,size:l,dataAccessTimestamp:b,dataModificationTimestamp:d,statusChangeTimestamp:u}=e,f=n;let a;switch(f){case"unknown":a=0;break;case"block-device":a=1;break;case"character-device":a=2;break;case"directory":a=3;break;case"fifo":a=4;break;case"symbolic-link":a=5;break;case"regular-file":a=6;break;case"socket":a=7;break;default:throw n instanceof Error&&console.error(n),new TypeError(`"${f}" is not one of the cases of descriptor-type`)}dataView(N).setInt8(r+8,a,!0),dataView(N).setBigInt64(r+16,toUint64(i),!0),dataView(N).setBigInt64(r+24,toUint64(l),!0);var k=b;if(null==k)dataView(N).setInt8(r+32,0,!0);else{const e=k;dataView(N).setInt8(r+32,1,!0);var{seconds:y,nanoseconds:p}=e;dataView(N).setBigInt64(r+40,toUint64(y),!0),dataView(N).setInt32(r+48,toUint32(p),!0)}var w=d;if(null==w)dataView(N).setInt8(r+56,0,!0);else{const e=w;dataView(N).setInt8(r+56,1,!0);var{seconds:m,nanoseconds:v}=e;dataView(N).setBigInt64(r+64,toUint64(m),!0),dataView(N).setInt32(r+72,toUint32(v),!0)}var h=u;if(null==h)dataView(N).setInt8(r+80,0,!0);else{const e=h;dataView(N).setInt8(r+80,1,!0);var{seconds:g,nanoseconds:R}=e;dataView(N).setBigInt64(r+88,toUint64(g),!0),dataView(N).setInt32(r+96,toUint32(R),!0)}break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var I=e;let a;switch(I){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${I}" is not one of the cases of error-code`)}dataView(N).setInt8(r+8,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},11:function(e,r,a,t,s){var o=e,c=q[1+(o<<1)]&~T_FLAG,n=z.get(c);if(n||(n=Object.create(T.prototype),Object.defineProperty(n,symbolRscHandle,{writable:!0,value:o}),Object.defineProperty(n,symbolRscRep,{writable:!0,value:c})),curResourceBorrows.push(n),4294967294&r)throw new TypeError("flags have extraneous bits set");var i={symlinkFollow:Boolean(1&r)},l=a,b=t,d=utf8Decoder.decode(new Uint8Array(N.buffer,l,b));let u;try{u={tag:"ok",val:n.statAt(i,d)}}catch(e){u={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var f=u;switch(f.tag){case"ok":{const e=f.val;dataView(N).setInt8(s+0,0,!0);var{type:k,linkCount:y,size:p,dataAccessTimestamp:w,dataModificationTimestamp:m,statusChangeTimestamp:v}=e,h=k;let r;switch(h){case"unknown":r=0;break;case"block-device":r=1;break;case"character-device":r=2;break;case"directory":r=3;break;case"fifo":r=4;break;case"symbolic-link":r=5;break;case"regular-file":r=6;break;case"socket":r=7;break;default:throw k instanceof Error&&console.error(k),new TypeError(`"${h}" is not one of the cases of descriptor-type`)}dataView(N).setInt8(s+8,r,!0),dataView(N).setBigInt64(s+16,toUint64(y),!0),dataView(N).setBigInt64(s+24,toUint64(p),!0);var g=w;if(null==g)dataView(N).setInt8(s+32,0,!0);else{const e=g;dataView(N).setInt8(s+32,1,!0);var{seconds:R,nanoseconds:I}=e;dataView(N).setBigInt64(s+40,toUint64(R),!0),dataView(N).setInt32(s+48,toUint32(I),!0)}var E=m;if(null==E)dataView(N).setInt8(s+56,0,!0);else{const e=E;dataView(N).setInt8(s+56,1,!0);var{seconds:V,nanoseconds:_}=e;dataView(N).setBigInt64(s+64,toUint64(V),!0),dataView(N).setInt32(s+72,toUint32(_),!0)}var O=v;if(null==O)dataView(N).setInt8(s+80,0,!0);else{const e=O;dataView(N).setInt8(s+80,1,!0);var{seconds:B,nanoseconds:A}=e;dataView(N).setBigInt64(s+88,toUint64(B),!0),dataView(N).setInt32(s+96,toUint32(A),!0)}break}case"err":{const e=f.val;dataView(N).setInt8(s+0,1,!0);var S=e;let r;switch(S){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${S}" is not one of the cases of error-code`)}dataView(N).setInt8(s+8,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},12:function(e,r,a,t,s,o,c){var n=e,i=q[1+(n<<1)]&~T_FLAG,l=z.get(i);if(l||(l=Object.create(T.prototype),Object.defineProperty(l,symbolRscHandle,{writable:!0,value:n}),Object.defineProperty(l,symbolRscRep,{writable:!0,value:i})),curResourceBorrows.push(l),4294967294&r)throw new TypeError("flags have extraneous bits set");var b={symlinkFollow:Boolean(1&r)},d=a,u=t,f=utf8Decoder.decode(new Uint8Array(N.buffer,d,u));if(4294967280&s)throw new TypeError("flags have extraneous bits set");var k={create:Boolean(1&s),directory:Boolean(2&s),exclusive:Boolean(4&s),truncate:Boolean(8&s)};if(4294967232&o)throw new TypeError("flags have extraneous bits set");var y={read:Boolean(1&o),write:Boolean(2&o),fileIntegritySync:Boolean(4&o),dataIntegritySync:Boolean(8&o),requestedWriteSync:Boolean(16&o),mutateDirectory:Boolean(32&o)};let p;try{p={tag:"ok",val:l.openAt(b,f,k,y)}}catch(e){p={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var w=p;switch(w.tag){case"ok":{const e=w.val;if(dataView(N).setInt8(c+0,0,!0),!(e instanceof T))throw new TypeError('Resource error: Not a valid "Descriptor" resource.');var m=e[symbolRscHandle];if(!m){const r=e[symbolRscRep]||++M;z.set(r,e),m=rscTableCreateOwn(q,r)}dataView(N).setInt32(c+4,m,!0);break}case"err":{const e=w.val;dataView(N).setInt8(c+0,1,!0);var v=e;let r;switch(v){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${v}" is not one of the cases of error-code`)}dataView(N).setInt8(c+4,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},13:function(e,r,a,t){var s=e,o=q[1+(s<<1)]&~T_FLAG,c=z.get(o);c||(c=Object.create(T.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=utf8Decoder.decode(new Uint8Array(N.buffer,n,i));let b;try{b={tag:"ok",val:c.readlinkAt(l)}}catch(e){b={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var d=b;switch(d.tag){case"ok":{const e=d.val;dataView(N).setInt8(t+0,0,!0);var u=utf8Encode(e,G,N),f=utf8EncodedLen;dataView(N).setInt32(t+8,f,!0),dataView(N).setInt32(t+4,u,!0);break}case"err":{const e=d.val;dataView(N).setInt8(t+0,1,!0);var k=e;let r;switch(k){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${k}" is not one of the cases of error-code`)}dataView(N).setInt8(t+4,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},14:function(e,r,a,t){var s=e,o=q[1+(s<<1)]&~T_FLAG,c=z.get(o);c||(c=Object.create(T.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=utf8Decoder.decode(new Uint8Array(N.buffer,n,i));let b;try{b={tag:"ok",val:c.removeDirectoryAt(l)}}catch(e){b={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var d=b;switch(d.tag){case"ok":d.val,dataView(N).setInt8(t+0,0,!0);break;case"err":{const e=d.val;dataView(N).setInt8(t+0,1,!0);var u=e;let r;switch(u){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${u}" is not one of the cases of error-code`)}dataView(N).setInt8(t+1,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},15:function(e,r,a,t){var s=e,o=q[1+(s<<1)]&~T_FLAG,c=z.get(o);c||(c=Object.create(T.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=utf8Decoder.decode(new Uint8Array(N.buffer,n,i));let b;try{b={tag:"ok",val:c.unlinkFileAt(l)}}catch(e){b={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var d=b;switch(d.tag){case"ok":d.val,dataView(N).setInt8(t+0,0,!0);break;case"err":{const e=d.val;dataView(N).setInt8(t+0,1,!0);var u=e;let r;switch(u){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${u}" is not one of the cases of error-code`)}dataView(N).setInt8(t+1,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},16:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.metadataHash()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0);var{lower:n,upper:i}=e;dataView(N).setBigInt64(r+8,toUint64(n),!0),dataView(N).setBigInt64(r+16,toUint64(i),!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var l=e;let a;switch(l){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${l}" is not one of the cases of error-code`)}dataView(N).setInt8(r+8,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},17:function(e,r,a,t,s){var o=e,c=q[1+(o<<1)]&~T_FLAG,n=z.get(c);if(n||(n=Object.create(T.prototype),Object.defineProperty(n,symbolRscHandle,{writable:!0,value:o}),Object.defineProperty(n,symbolRscRep,{writable:!0,value:c})),curResourceBorrows.push(n),4294967294&r)throw new TypeError("flags have extraneous bits set");var i={symlinkFollow:Boolean(1&r)},l=a,b=t,d=utf8Decoder.decode(new Uint8Array(N.buffer,l,b));let u;try{u={tag:"ok",val:n.metadataHashAt(i,d)}}catch(e){u={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var f=u;switch(f.tag){case"ok":{const e=f.val;dataView(N).setInt8(s+0,0,!0);var{lower:k,upper:y}=e;dataView(N).setBigInt64(s+8,toUint64(k),!0),dataView(N).setBigInt64(s+16,toUint64(y),!0);break}case"err":{const e=f.val;dataView(N).setInt8(s+0,1,!0);var p=e;let r;switch(p){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${p}" is not one of the cases of error-code`)}dataView(N).setInt8(s+8,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},18:function(e,r){var a=e,t=W[1+(a<<1)]&~T_FLAG,s=Y.get(t);let o;s||(s=Object.create(E.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.readDirectoryEntry()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0);var n=e;if(null==n)dataView(N).setInt8(r+4,0,!0);else{const e=n;dataView(N).setInt8(r+4,1,!0);var{type:i,name:l}=e,b=i;let a;switch(b){case"unknown":a=0;break;case"block-device":a=1;break;case"character-device":a=2;break;case"directory":a=3;break;case"fifo":a=4;break;case"symbolic-link":a=5;break;case"regular-file":a=6;break;case"socket":a=7;break;default:throw i instanceof Error&&console.error(i),new TypeError(`"${b}" is not one of the cases of descriptor-type`)}dataView(N).setInt8(r+8,a,!0);var d=utf8Encode(l,G,N),u=utf8EncodedLen;dataView(N).setInt32(r+16,u,!0),dataView(N).setInt32(r+12,d,!0)}break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var f=e;let a;switch(f){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${f}" is not one of the cases of error-code`)}dataView(N).setInt8(r+4,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},19:function(e,r){var a=e,t=X[1+(a<<1)]&~T_FLAG,s=K.get(t);s||(s=Object.create(O.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);const o=V(s);for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;if(null==c)dataView(N).setInt8(r+0,0,!0);else{const e=c;dataView(N).setInt8(r+0,1,!0);var n=e;let a;switch(n){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${n}" is not one of the cases of error-code`)}dataView(N).setInt8(r+1,a,!0)}},2:function(e){const r=F();var{seconds:a,nanoseconds:t}=r;dataView(N).setBigInt64(e+0,toUint64(a),!0),dataView(N).setInt32(e+8,toUint32(t),!0)},20:function(e,r,a){var t=e,s=L[1+(t<<1)]&~T_FLAG,o=U.get(s);let c;o||(o=Object.create(B.prototype),Object.defineProperty(o,symbolRscHandle,{writable:!0,value:t}),Object.defineProperty(o,symbolRscRep,{writable:!0,value:s})),curResourceBorrows.push(o);try{c={tag:"ok",val:o.read(BigInt.asUintN(64,r))}}catch(e){c={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var n=c;switch(n.tag){case"ok":{const e=n.val;dataView(N).setInt8(a+0,0,!0);var i=e,l=i.byteLength,b=G(0,0,1,1*l),d=new Uint8Array(i.buffer||i,i.byteOffset,1*l);new Uint8Array(N.buffer,b,1*l).set(d),dataView(N).setInt32(a+8,l,!0),dataView(N).setInt32(a+4,b,!0);break}case"err":{const e=n.val;dataView(N).setInt8(a+0,1,!0);var u=e;switch(u.tag){case"last-operation-failed":{const e=u.val;if(dataView(N).setInt8(a+4,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var f=e[symbolRscHandle];if(!f){const r=e[symbolRscRep]||++Q;K.set(r,e),f=rscTableCreateOwn(X,r)}dataView(N).setInt32(a+8,f,!0);break}case"closed":dataView(N).setInt8(a+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(u.tag)}\` (received \`${u}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},21:function(e,r,a){var t=e,s=L[1+(t<<1)]&~T_FLAG,o=U.get(s);let c;o||(o=Object.create(B.prototype),Object.defineProperty(o,symbolRscHandle,{writable:!0,value:t}),Object.defineProperty(o,symbolRscRep,{writable:!0,value:s})),curResourceBorrows.push(o);try{c={tag:"ok",val:o.blockingRead(BigInt.asUintN(64,r))}}catch(e){c={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var n=c;switch(n.tag){case"ok":{const e=n.val;dataView(N).setInt8(a+0,0,!0);var i=e,l=i.byteLength,b=G(0,0,1,1*l),d=new Uint8Array(i.buffer||i,i.byteOffset,1*l);new Uint8Array(N.buffer,b,1*l).set(d),dataView(N).setInt32(a+8,l,!0),dataView(N).setInt32(a+4,b,!0);break}case"err":{const e=n.val;dataView(N).setInt8(a+0,1,!0);var u=e;switch(u.tag){case"last-operation-failed":{const e=u.val;if(dataView(N).setInt8(a+4,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var f=e[symbolRscHandle];if(!f){const r=e[symbolRscRep]||++Q;K.set(r,e),f=rscTableCreateOwn(X,r)}dataView(N).setInt32(a+8,f,!0);break}case"closed":dataView(N).setInt8(a+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(u.tag)}\` (received \`${u}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},22:function(e,r){var a=e,t=b[1+(a<<1)]&~T_FLAG,s=d.get(t);let o;s||(s=Object.create(A.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.checkWrite()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0),dataView(N).setBigInt64(r+8,toUint64(e),!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var n=e;switch(n.tag){case"last-operation-failed":{const e=n.val;if(dataView(N).setInt8(r+8,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var i=e[symbolRscHandle];if(!i){const r=e[symbolRscRep]||++Q;K.set(r,e),i=rscTableCreateOwn(X,r)}dataView(N).setInt32(r+12,i,!0);break}case"closed":dataView(N).setInt8(r+8,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(n.tag)}\` (received \`${n}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},23:function(e,r,a,t){var s=e,o=b[1+(s<<1)]&~T_FLAG,c=d.get(o);c||(c=Object.create(A.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=new Uint8Array(N.buffer.slice(n,n+1*i));let u;try{u={tag:"ok",val:c.write(l)}}catch(e){u={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var f=u;switch(f.tag){case"ok":f.val,dataView(N).setInt8(t+0,0,!0);break;case"err":{const e=f.val;dataView(N).setInt8(t+0,1,!0);var k=e;switch(k.tag){case"last-operation-failed":{const e=k.val;if(dataView(N).setInt8(t+4,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var y=e[symbolRscHandle];if(!y){const r=e[symbolRscRep]||++Q;K.set(r,e),y=rscTableCreateOwn(X,r)}dataView(N).setInt32(t+8,y,!0);break}case"closed":dataView(N).setInt8(t+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(k.tag)}\` (received \`${k}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},24:function(e,r,a,t){var s=e,o=b[1+(s<<1)]&~T_FLAG,c=d.get(o);c||(c=Object.create(A.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=new Uint8Array(N.buffer.slice(n,n+1*i));let u;try{u={tag:"ok",val:c.blockingWriteAndFlush(l)}}catch(e){u={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var f=u;switch(f.tag){case"ok":f.val,dataView(N).setInt8(t+0,0,!0);break;case"err":{const e=f.val;dataView(N).setInt8(t+0,1,!0);var k=e;switch(k.tag){case"last-operation-failed":{const e=k.val;if(dataView(N).setInt8(t+4,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var y=e[symbolRscHandle];if(!y){const r=e[symbolRscRep]||++Q;K.set(r,e),y=rscTableCreateOwn(X,r)}dataView(N).setInt32(t+8,y,!0);break}case"closed":dataView(N).setInt8(t+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(k.tag)}\` (received \`${k}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},25:function(e,r){var a=e,t=b[1+(a<<1)]&~T_FLAG,s=d.get(t);let o;s||(s=Object.create(A.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.blockingFlush()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":c.val,dataView(N).setInt8(r+0,0,!0);break;case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var n=e;switch(n.tag){case"last-operation-failed":{const e=n.val;if(dataView(N).setInt8(r+4,0,!0),!(e instanceof O))throw new TypeError('Resource error: Not a valid "Error" resource.');var i=e[symbolRscHandle];if(!i){const r=e[symbolRscRep]||++Q;K.set(r,e),i=rscTableCreateOwn(X,r)}dataView(N).setInt32(r+8,i,!0);break}case"closed":dataView(N).setInt8(r+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(n.tag)}\` (received \`${n}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}},26:function(e,r,a){var t=r,s=e,o=[];for(let e=0;e<t;e++){const r=s+4*e;var c=dataView(N).getInt32(r+0,!0),l=n[1+(c<<1)]&~T_FLAG,b=i.get(l);b||(b=Object.create(S.prototype),Object.defineProperty(b,symbolRscHandle,{writable:!0,value:c}),Object.defineProperty(b,symbolRscRep,{writable:!0,value:l})),curResourceBorrows.push(b),o.push(b)}const d=D(o);for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var u=d,f=u.length,k=G(0,0,4,4*f),y=new Uint8Array(u.buffer,u.byteOffset,4*f);new Uint8Array(N.buffer,k,4*f).set(y),dataView(N).setInt32(a+4,f,!0),dataView(N).setInt32(a+0,k,!0)},27:function(e,r){var a=H(BigInt.asUintN(64,e)),t=a.byteLength,s=G(0,0,1,1*t),o=new Uint8Array(a.buffer||a,a.byteOffset,1*t);new Uint8Array(N.buffer,s,1*t).set(o),dataView(N).setInt32(r+4,t,!0),dataView(N).setInt32(r+0,s,!0)},28:function(e){var r=_(),a=r.length,t=G(0,0,4,12*a);for(let e=0;e<r.length;e++){const a=r[e],l=t+12*e;var[s,o]=a;if(!(s instanceof T))throw new TypeError('Resource error: Not a valid "Descriptor" resource.');var c=s[symbolRscHandle];if(!c){const e=s[symbolRscRep]||++M;z.set(e,s),c=rscTableCreateOwn(q,e)}dataView(N).setInt32(l+0,c,!0);var n=utf8Encode(o,G,N),i=utf8EncodedLen;dataView(N).setInt32(l+8,i,!0),dataView(N).setInt32(l+4,n,!0)}dataView(N).setInt32(e+4,a,!0),dataView(N).setInt32(e+0,t,!0)},29:function(e){var r=R();if(null==r)dataView(N).setInt8(e+0,0,!0);else{const t=r;if(dataView(N).setInt8(e+0,1,!0),!(t instanceof f))throw new TypeError('Resource error: Not a valid "TerminalInput" resource.');var a=t[symbolRscHandle];if(!a){const e=t[symbolRscRep]||++re;ee.set(e,t),a=rscTableCreateOwn(Z,e)}dataView(N).setInt32(e+4,a,!0)}},3:function(e,r,a){var t=e,s=q[1+(t<<1)]&~T_FLAG,o=z.get(s);let c;o||(o=Object.create(T.prototype),Object.defineProperty(o,symbolRscHandle,{writable:!0,value:t}),Object.defineProperty(o,symbolRscRep,{writable:!0,value:s})),curResourceBorrows.push(o);try{c={tag:"ok",val:o.readViaStream(BigInt.asUintN(64,r))}}catch(e){c={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var n=c;switch(n.tag){case"ok":{const e=n.val;if(dataView(N).setInt8(a+0,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "InputStream" resource.');var i=e[symbolRscHandle];if(!i){const r=e[symbolRscRep]||++$;U.set(r,e),i=rscTableCreateOwn(L,r)}dataView(N).setInt32(a+4,i,!0);break}case"err":{const e=n.val;dataView(N).setInt8(a+0,1,!0);var l=e;let r;switch(l){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${l}" is not one of the cases of error-code`)}dataView(N).setInt8(a+4,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},30:function(e){var r=I();if(null==r)dataView(N).setInt8(e+0,0,!0);else{const t=r;if(dataView(N).setInt8(e+0,1,!0),!(t instanceof k))throw new TypeError('Resource error: Not a valid "TerminalOutput" resource.');var a=t[symbolRscHandle];if(!a){const e=t[symbolRscRep]||++oe;te.set(e,t),a=rscTableCreateOwn(ae,e)}dataView(N).setInt32(e+4,a,!0)}},31:function(e){var r=g();if(null==r)dataView(N).setInt8(e+0,0,!0);else{const t=r;if(dataView(N).setInt8(e+0,1,!0),!(t instanceof k))throw new TypeError('Resource error: Not a valid "TerminalOutput" resource.');var a=t[symbolRscHandle];if(!a){const e=t[symbolRscRep]||++oe;te.set(e,t),a=rscTableCreateOwn(ae,e)}dataView(N).setInt32(e+4,a,!0)}},32:C.args_get,33:C.args_sizes_get,34:C.environ_get,35:C.environ_sizes_get,36:C.clock_time_get,37:C.fd_close,38:C.fd_fdstat_get,39:C.fd_fdstat_set_flags,4:function(e,r,a){var t=e,s=q[1+(t<<1)]&~T_FLAG,o=z.get(s);let c;o||(o=Object.create(T.prototype),Object.defineProperty(o,symbolRscHandle,{writable:!0,value:t}),Object.defineProperty(o,symbolRscRep,{writable:!0,value:s})),curResourceBorrows.push(o);try{c={tag:"ok",val:o.writeViaStream(BigInt.asUintN(64,r))}}catch(e){c={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var n=c;switch(n.tag){case"ok":{const e=n.val;if(dataView(N).setInt8(a+0,0,!0),!(e instanceof A))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var i=e[symbolRscHandle];if(!i){const r=e[symbolRscRep]||++u;d.set(r,e),i=rscTableCreateOwn(b,r)}dataView(N).setInt32(a+4,i,!0);break}case"err":{const e=n.val;dataView(N).setInt8(a+0,1,!0);var l=e;let r;switch(l){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${l}" is not one of the cases of error-code`)}dataView(N).setInt8(a+4,r,!0);break}default:throw new TypeError("invalid variant specified for result")}},40:C.fd_filestat_get,41:C.fd_prestat_get,42:C.fd_prestat_dir_name,43:C.fd_read,44:C.fd_readdir,45:C.fd_renumber,46:C.fd_seek,47:C.fd_write,48:C.path_create_directory,49:C.path_filestat_get,5:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.appendViaStream()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;if(dataView(N).setInt8(r+0,0,!0),!(e instanceof A))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var n=e[symbolRscHandle];if(!n){const r=e[symbolRscRep]||++u;d.set(r,e),n=rscTableCreateOwn(b,r)}dataView(N).setInt32(r+4,n,!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var i=e;let a;switch(i){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${i}" is not one of the cases of error-code`)}dataView(N).setInt8(r+4,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},50:C.path_open,51:C.path_readlink,52:C.path_remove_directory,53:C.path_unlink_file,54:C.poll_oneoff,55:C.proc_exit,56:C.sched_yield,57:C.random_get,6:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.getFlags()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0);let a=0;if("object"==typeof e&&null!==e)a=Boolean(e.read)|Boolean(e.write)<<1|Boolean(e.fileIntegritySync)<<2|Boolean(e.dataIntegritySync)<<3|Boolean(e.requestedWriteSync)<<4|Boolean(e.mutateDirectory)<<5;else if(null!=e)throw new TypeError("only an object, undefined or null can be converted to flags");dataView(N).setInt8(r+1,a,!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var n=e;let a;switch(n){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${n}" is not one of the cases of error-code`)}dataView(N).setInt8(r+1,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},7:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.getType()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;dataView(N).setInt8(r+0,0,!0);var n=e;let a;switch(n){case"unknown":a=0;break;case"block-device":a=1;break;case"character-device":a=2;break;case"directory":a=3;break;case"fifo":a=4;break;case"symbolic-link":a=5;break;case"regular-file":a=6;break;case"socket":a=7;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${n}" is not one of the cases of descriptor-type`)}dataView(N).setInt8(r+1,a,!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var i=e;let a;switch(i){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${i}" is not one of the cases of error-code`)}dataView(N).setInt8(r+1,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},8:function(e,r){var a=e,t=q[1+(a<<1)]&~T_FLAG,s=z.get(t);let o;s||(s=Object.create(T.prototype),Object.defineProperty(s,symbolRscHandle,{writable:!0,value:a}),Object.defineProperty(s,symbolRscRep,{writable:!0,value:t})),curResourceBorrows.push(s);try{o={tag:"ok",val:s.readDirectory()}}catch(e){o={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var c=o;switch(c.tag){case"ok":{const e=c.val;if(dataView(N).setInt8(r+0,0,!0),!(e instanceof E))throw new TypeError('Resource error: Not a valid "DirectoryEntryStream" resource.');var n=e[symbolRscHandle];if(!n){const r=e[symbolRscRep]||++J;Y.set(r,e),n=rscTableCreateOwn(W,r)}dataView(N).setInt32(r+4,n,!0);break}case"err":{const e=c.val;dataView(N).setInt8(r+0,1,!0);var i=e;let a;switch(i){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${i}" is not one of the cases of error-code`)}dataView(N).setInt8(r+4,a,!0);break}default:throw new TypeError("invalid variant specified for result")}},9:function(e,r,a,t){var s=e,o=q[1+(s<<1)]&~T_FLAG,c=z.get(o);c||(c=Object.create(T.prototype),Object.defineProperty(c,symbolRscHandle,{writable:!0,value:s}),Object.defineProperty(c,symbolRscRep,{writable:!0,value:o})),curResourceBorrows.push(c);var n=r,i=a,l=utf8Decoder.decode(new Uint8Array(N.buffer,n,i));let b;try{b={tag:"ok",val:c.createDirectoryAt(l)}}catch(e){b={tag:"err",val:getErrorPayload(e)}}for(const e of curResourceBorrows)e[symbolRscHandle]=null;curResourceBorrows=[];var d=b;switch(d.tag){case"ok":d.val,dataView(N).setInt8(t+0,0,!0);break;case"err":{const e=d.val;dataView(N).setInt8(t+0,1,!0);var u=e;let r;switch(u){case"access":r=0;break;case"would-block":r=1;break;case"already":r=2;break;case"bad-descriptor":r=3;break;case"busy":r=4;break;case"deadlock":r=5;break;case"quota":r=6;break;case"exist":r=7;break;case"file-too-large":r=8;break;case"illegal-byte-sequence":r=9;break;case"in-progress":r=10;break;case"interrupted":r=11;break;case"invalid":r=12;break;case"io":r=13;break;case"is-directory":r=14;break;case"loop":r=15;break;case"too-many-links":r=16;break;case"message-size":r=17;break;case"name-too-long":r=18;break;case"no-device":r=19;break;case"no-entry":r=20;break;case"no-lock":r=21;break;case"insufficient-memory":r=22;break;case"insufficient-space":r=23;break;case"not-directory":r=24;break;case"not-empty":r=25;break;case"not-recoverable":r=26;break;case"unsupported":r=27;break;case"no-tty":r=28;break;case"no-such-device":r=29;break;case"overflow":r=30;break;case"not-permitted":r=31;break;case"pipe":r=32;break;case"read-only":r=33;break;case"invalid-seek":r=34;break;case"text-file-busy":r=35;break;case"cross-device":r=36;break;default:throw e instanceof Error&&console.error(e),new TypeError(`"${u}" is not one of the cases of error-code`)}dataView(N).setInt8(t+1,r,!0);break}default:throw new TypeError("invalid variant specified for result")}}}}));const ce={run:function(){let e;switch(C["wasi:cli/run@0.2.0#run"]()){case 0:e={tag:"ok",val:void 0};break;case 1:e={tag:"err",val:void 0};break;default:throw new TypeError("invalid variant discriminant for expected")}if("err"===e.tag)throw new ComponentError(e.val);return e.val}};return{run:ce,"wasi:cli/run@0.2.0":ce}}();const G=function e(r){try{let a;do{({value:r,done:a}=N.next(r))}while(!(r instanceof Promise||a));if(a){if(!U)return r;U(r)}L||(L=new Promise((e,r)=>(U=e,C=r))),r.then(r=>a?U():e(r),C)}catch(e){if(!C)throw e;C(e)}}(null);return L||G}var yosys=new Application(yosys_resources_exports,instantiate,"yowasp-yosys"),runYosys=yosys.run.bind(yosys),commands={yosys:runYosys},version="0.59.84-dev.1027";export{Exit,commands,runYosys,version};